# GIT版本控制工具

## 一、Git概念?

### 1. 什么是Git?

`版本控制工具`



## 二、Git基础命令

### 2.1 如何使用Git进行版本控制?

1. 我们需要在本地创建一个git仓库

2. 在本地仓库创建项目

3. 将文件先提交到暂存区

4. 在将暂存区的文件提交到本地仓库

   

## 三、Git的版本前进与后退

1. 简约的格式显示提交的历史记录

   ```
   git log --oneline
   ```

2. 显示回滚版本步数

   ```
   git reflog
   ```

3. 实现版本的前进与后退

   - 可以前进也可以后退的命令

     ```
     git reset --hard 哈希值
     ```

   - 只能后退的命令1

     ```
     git reset --hard HEAD^
     ```

   - 只能后退的命令2

     ```
     git reset --hard HEAD~n
     ```

   

## 四、Git的分支操作

1. 查看分支

   ```
   git branch -v
   ```

2. 创建分支

   ```
   git branch 分支名
   ```

3. 切换分支

   ```
   git checkout 分支名
   ```

4. 删除分支

   ```
   git branch -d 分支名
   ```

5. 合并分支

   - 合并分支方式1

     ```
     git merge 分支名
     ```

   - 合并分支方式2

     ```
     git rebase 分支名
     ```

6. 使用一条命令直接创建新的分支并切换到这个新分支上面

   ```
   git checkout -b 分支名
   ```

7. 代码冲突

   > **什么情况有冲突 ？**
   >
   > 在企业中团队协作开发时，当多个人同时修改同一个文件，同一行代码时，就会产生冲突 。
   >
   > 只有先推送的那个人才可以正常推送，后面那个人与它出现冲突的代码，是没有办法推送的，
   >
   > 必须先拉取下来，然后自已手动解决冲突后才可进行推送。



## 五、远程仓库

### 5.1 将本地仓库和远程仓库建立连接

```
git remote add 远程仓库地址别名 远程仓库地址
```

### 5.2 配置ssh

1. 先cd ~ 切换到根目录
2. 通过ls -a 查看根目录里面有没有.ssh文件夹, 如果没有则说明没有配置过ssh 
3. 使用`ssh-keygen -t rsa -C 邮箱地址` 这个命令生成公钥和私钥
4. 使用cd .ssh 进入到.ssh文件夹内
5. 使用ls -a查看.ssh目录内的文件
6. 使用cat 查看 id_rsa.pub的内容,并进行复制
7. 打开github,进入到settings页面
8. 选择ssh这一项
9. 点击 new ssh按钮
10. 输入title(title内容随便写), 内容框粘贴刚才复制的公钥
11. 点击确定

### 5.3 将本地仓库的代码推送到远程仓库

- 第一种方式

  - 在本地创建一个文件夹
  - 在该文件夹内创建git本地仓库
  - 创建项目
  - 将创建的项目添加到暂存区
  - 将暂存区的内容添加到本地仓库
  - 在代码托管平台上面创建远程仓库
  - 将本地仓库和远程仓库建立连接
  - (如何已经配置过ssh可以忽略这步) 配置ssh
    1. 先cd ~ 切换到根目录
    2. 通过ls -a 查看根目录里面有没有.ssh文件夹, 如果没有则说明没有配置过ssh 
    3. 使用`ssh-keygen -t rsa -C 邮箱地址` 这个命令生成公钥和私钥
    4. 使用cd .ssh 进入到.ssh文件夹内
    5. 使用ls -a查看.ssh目录内的文件
    6. 使用cat 查看 id_rsa.pub的内容,并进行复制
    7. 打开github,进入到settings页面
    8. 选择ssh这一项
    9. 点击 new ssh按钮
    10. 输入title(title内容随便写), 内容框粘贴刚才复制的公钥
    11. 点击确定
  - 将本地仓库的代码推送到远程仓库

  ```
  git init
  
  git add .
  
  git commit -m "描述信息"
  
  git remote add 仓库地址别名 仓库地址(ssh)
  
  git push  仓库地址别名 分支名
  ```

- 第二种

  1. 在代码托管平台创建一个空仓库

  2. 将这个空仓库克隆到本地

     ```
     git clone 远程仓库地址
     ```

  3. 在本次仓库创建项目

  4. 将创建的项目提交到暂存区

     ```
     git add .
     ```

  5. 将暂存区的内容提交到本地仓库

     ```
     git commit -m "描述信息"
     ```

  6. 将本地仓库的代码推送到远程仓库

     ```
     git push
     ```

     

## 六、Git命令



1. 创建git本地仓库

   ```
   git init
   ```

2. 查看仓库的状态

   ```
   git status
   ```

3. 将工作区的代码提交到暂存区

   ```
   git add . / 文件名
   ```

4. 将暂存区的代码提交到本地仓库

   ```
   git commit -m "本地提交的描述信息"
   ```

5. 将暂存区的提交撤销到工作区

   ```
   git rm --cached 文件名
   ```

6. 查看提交的版本库历史记录

   ```
   git log
   ```

7. 以漂亮的格式显示提交的历史记录：即每条日志只显示一行

   ```
   git log --pretty=oneline
   ```

8. 简约的格式显示提交的历史记录

   ```
   git log --oneline
   ```

9. 显示回滚版本步数

   ```
   git reflog
   ```

10. 实现版本的前进与后退

    - 可以前进也可以后退的命令

      ```
      git reset --hard 哈希值
      ```

    - 只能后退的命令1

      ```
      git reset --hard HEAD^
      ```

    - 只能后退的命令2

      ```
      git reset --hard HEAD~n
      ```

11. 删除文件并恢复

    ```
     git reset --hard <历史记录索引值>
    ```

12. 对比文件的差异

    - 将**工作区**中的文件和**暂存区**进行比较

      ```
       git diff <文件名>
      ```

    - 将**工作区**中的文件和**本地库历史记录**比较

      ```
      git diff <本地库中历史版本> <文件名>
      ```

13. 查看本地仓库和远程仓库是否建立连接

    ```
    git remote -v
    ```

14. 给本地仓库绑定远程仓库地址(将本地仓库和远程仓库建立连接)

    ```
    git remote add 仓库地址名别 仓库地址
    ```

15. 删除远程仓库地址

    ```
    git remote remove 远程仓库地址别名
    ```

16. 将本地仓库代码推送到远程仓库

    ```
    git push 远程仓库地址别名 分支名
    ```

    

一般实际开发时:

 主分支 master

开发人员分支 dev / development

测试人员分支 test  

预发布分支

bug修复分支 hotfix

